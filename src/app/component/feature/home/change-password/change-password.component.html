<div class="page-wrapper">
    <img class="background-image" src="assets/images/splash_background.png" alt="background">
    
    <div class="main-content">
        <!-- Header -->
        <div class="header">
            <div class="back-button" (click)="goBack()">
                <svg viewBox="0 0 320 512">
                    <path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"></path>
                </svg>
            </div>
            <div class="title">THAY ĐỔI MẬT KHẨU</div>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="form-container">
                <table>
                    <tbody>
                        <tr>
                            <td class="label">Mật khẩu cũ:</td>
                            <td>
                                <div class="input-group">
                                    <input 
                                        [(ngModel)]="oldPassword"
                                        [type]="showOldPassword ? 'text' : 'password'"
                                        placeholder="Vui lòng nhập mật khẩu"
                                    >
                                    <div class="toggle-password" (click)="togglePasswordVisibility('old')">
                                        <img [src]="showOldPassword ? 'assets/icons/unlook.png' : 'assets/icons/look.png'" alt="">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label">Mật khẩu mới:</td>
                            <td>
                                <div class="input-group">
                                    <input 
                                        [(ngModel)]="newPassword"
                                        [type]="showNewPassword ? 'text' : 'password'"
                                        placeholder="Vui lòng nhập mật khẩu mới"
                                    >
                                    <div class="toggle-password" (click)="togglePasswordVisibility('new')">
                                        <img [src]="showNewPassword ? 'assets/icons/unlook.png' : 'assets/icons/look.png'" alt="">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label">Xác nhận Mật khẩu:</td>
                            <td>
                                <div class="input-group">
                                    <input 
                                        [(ngModel)]="confirmPassword"
                                        [type]="showConfirmPassword ? 'text' : 'password'"
                                        placeholder="Vui lòng nhập lại mật khẩu"
                                    >
                                    <div class="toggle-password" (click)="togglePasswordVisibility('confirm')">
                                        <img [src]="showConfirmPassword ? 'assets/icons/unlook.png' : 'assets/icons/look.png'" alt="">
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div *ngIf="errorMessage" class="error-message">
                    {{ errorMessage }}
                </div>
                <button class="submit-button" (click)="onSubmit()">
                    Xác nhận thay đổi mật khẩu
                </button>
            </div>
        </div>
    </div>

    <app-nav></app-nav>
</div>